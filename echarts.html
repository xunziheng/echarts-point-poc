<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="main" style="width: 1200px; height: 800px;"></div>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
    <script type="text/javascript">
        var chartDom = document.getElementById('main');
        var myChart = echarts.init(chartDom);
        var option;

        // prettier-ignore
        const hours = [
            0, 20, 40, 60, 80, 100,
            120, 140, 160, 180, 200
        ];
        // prettier-ignore
        const groups = [
            'Group A', 'Group B', 'Group C', 'Group D'
        ];
        option = {
            title: {
                text: 'Point Chart POC'
            },
            legend: {
                data: groups,
                left: 'right'
            },
            // graphic: {
            //     elements: [{
            //         type: 'rect',
            //         shape: {
            //             x: 79.11,
            //             y: 60,
            //             width: 280,
            //             height: 20
            //         },
            //         style: {
            //             fill: 'green'
            //         }
            //     }]
            // },
            // tooltip: {
            //     position: 'top',
            //     formatter: function (params) {
            //     return (
            //         params.value[2] +
            //         ' commits in ' +
            //         hours[params.value[0]] +
            //         ' of ' +
            //         days[params.value[1]]
            //     );
            //     }
            // },
            grid: {
                left: 50,
                top: 100,
                bottom: 10,
                right: 10,
                containLabel: true
            },
            legend: {
                data: [
                    {
                        name: 'Major cities',
                        icon: 'circle',
                    },
                    {
                        name: 'Inter regional',
                        icon: 'circle'
                    },
                    {
                        name: 'Outer regional',
                        icon: 'circle'
                    },
                    {
                        name: 'Remote',
                        icon: 'circle'
                    }
                ]
            },
            xAxis: [
                // {
                //     type: 'category',
                //     // data: ['Group A', 'Group B', 'Group C', 'Group D'],
                //     data: ['A-1', 'A-2', 'A-3', 'A-4', 'B-1', 'B-2', 'B-3', 'C-1', 'C-2', 'C-3', 'C-4', 'C-5', 'C-6', 'D-1', 'D-2', 'D-3'],
                //     position: 'top',
                //     boundaryGap: true,
                //     offset: 70,
                //     axisTick: {
                //         show: false,
                //     },
                //     axisLine: {
                //         onZero: false
                //     }
                // },
                {
                    type: 'category',
                    data: ['A-1', 'A-2', 'A-3', 'A-4'],
                    position: 'top',
                    boundaryGap: true,
                    offset: 0,
                    axisTick: {
                        show: false,
                    },
                    axisLabel: {
                        show: false,
                    },
                    axisLine: {
                        onZero: true
                    }
                },
                {
                    type: 'category',
                    axisTick: {
                        show: false,
                    },
                    data: ['A-1', 'A-2', 'A-3', 'A-4', 'A-5', 'B-1', 'B-2', 'B-3', 'B-4+', 'C-1', 'C-2', 'C-3+', 'D-1', 'D-2+'],
                    position: 'top',
                    interval: 20,
                    offset: 20,
                    boundaryGap: true,
                    axisLine: {
                        show: false,
                        onZero: false
                    },
                    splitLine: {
                        show: false
                    },
                    axisLabel: {
                        formatter: (value) => {
                            return `{${value.split('-')[0]}|${value.split('-')[1]}}`
                        },
                        rich: {
                            A: {
                                width: 55,
                                height: 15,
                                color: 'white',
                                backgroundColor: '#0B7680',
                            },
                            B: {
                                width: 55,
                                height: 15,
                                color: 'white',
                                backgroundColor: '#9673B5',
                            },
                            C: {
                                width: 55,
                                height: 15,
                                color: 'white',
                                backgroundColor: '#1B8DC1',
                            },
                            D: {
                                width: 55,
                                height: 15,
                                color: 'white',
                                backgroundColor: '#7D8B40',
                            },
                        }
                    }
                }
            ],
            yAxis: {
                type: 'value',
                data: hours,
                boundaryGap: false,
                axisLine: {
                    show: true
                },
                splitLine: {
                    show: false
                },
            },
            series: [
                {
                    name: 'Major cities',
                    symbol: 'circle',
                    type: 'scatter',
                    symbolSize: function (val) {
                        return val[2] * 2;
                    },
                    itemStyle: {
                        color: '#0B7680',
                        opacity: 0.5,
                    },
                    xAxisIndex: 1,
                    data: [
                        ['A-1', 100, 20],
                        ['A-2', 120, 10],
                        ['A-3', 130, 10],
                    ],
                    animationDelay: function (idx) {
                        return idx * 5;
                    }
                },
                {
                    name: 'Inter regional',
                    symbol: 'circle',
                    type: 'scatter',
                    markPoint: {
                        symbol: 'rect',
                        symbolSize: [70, 10],
                        data: [
                            {
                                coord: ['B-1', 0],
                                itemStyle: {
                                    color: '#F4AC7C',
                                    opacity: 0.7,
                                }
                            },
                            {
                                coord: ['B-1', 210],
                                itemStyle: {
                                    color: '#F4AC7C',
                                    opacity: 0.7,
                                }
                            },
                            {
                                coord: ['B-1', 310],
                                itemStyle: {
                                    color: '#F4AC7C',
                                    opacity: 0.7,
                                }
                            },
                            {
                                coord: ['B-1', 500],
                                itemStyle: {
                                    color: '#F4AC7C',
                                    opacity: 0.7,
                                }
                            },
                        ],
                    },
                    symbolSize: function (val) {
                        return val[2] * 2;
                    },
                    itemStyle: {
                        color: '#9673B5',
                        opacity: 0.5,
                    },
                    xAxisIndex: 1,
                    data: [
                        ['B-1', 0, 10],
                        ['B-1', 100, 10],
                        ['B-1', 210, 15],
                        ['B-1', 220, 13],
                        ['B-1', 230, 12],
                        ['B-1', 240, 16],
                        ['B-1', 250, 19],
                        ['B-1', 270, 19],
                        ['B-1', 280, 10],
                        ['B-1', 290, 10],
                        ['B-1', 300, 19],
                        ['B-1', 120, 10],
                        ['B-2', 100, 12],
                        ['B-3', 500, 10],
                    ],
                    animationDelay: function (idx) {
                        return idx * 5;
                    }
                },
                {
                    name: 'Outer regional',
                    symbol: 'circle',
                    type: 'scatter',
                    symbolSize: function (val) {
                        return val[2] * 2;
                    },
                    itemStyle: {
                        color: '#1B8DC1',
                        opacity: 0.5,
                    },
                    xAxisIndex: 1,
                    data: [
                        ['C-1', 0, 10],
                        ['C-1', 100, 10],
                        ['C-1', 210, 15],
                        ['C-1', 220, 13],
                        ['C-1', 230, 12],
                        ['C-2', 240, 16],
                        ['C-2', 250, 19],
                        ['C-2', 270, 19],
                        ['C-2', 280, 10],
                        ['C-2', 290, 10],
                        ['C-2', 300, 19],
                        ['C-2', 120, 10],
                        ['C-3+', 100, 12],
                        ['C-3+', 500, 10],
                    ],
                    animationDelay: function (idx) {
                        return idx * 5;
                    }
                },
                {
                    name: 'Remote',
                    symbol: 'circle',
                    type: 'scatter',
                    markPoint: {
                        symbol: 'rect',
                        symbolSize: [70, 10],
                        data: [
                            {
                                coord: ['D-1', 100],
                                itemStyle: {
                                    color: '#F4AC7C',
                                    opacity: 0.7,
                                }
                            },
                            {
                                coord: ['D-1', 300],
                                itemStyle: {
                                    color: '#F4AC7C',
                                    opacity: 0.7,
                                }
                            }
                        ],
                    },
                    symbolSize: function (val) {
                        return val[2] * 2;
                    },
                    itemStyle: {
                        color: '#7D8B40',
                        opacity: 0.5,
                    },
                    xAxisIndex: 1,
                    data: [
                        ['D-1', 0, 10],
                        ['D-1', 110, 10],
                        ['D-1', 220, 15],
                        ['D-1', 250, 13],
                        ['D-1', 290, 12],
                        ['D-2+', 300, 16],
                        ['D-2+', 310, 19],
                        ['D-2+', 330, 19],
                        ['D-2+', 350, 10],
                        ['D-2+', 360, 10],
                    ],
                    animationDelay: function (idx) {
                        return idx * 5;
                    }
                }
            ]
        };

        option && myChart.setOption(option);

        console.log('像素转换：', myChart.convertToPixel({xAxisIndex: 0}, 'A-1'));
        // var option = myChart.getOption();
    </script>
</body>

</html>